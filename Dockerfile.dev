# Development Dockerfile for the entire project
FROM node:18-alpine AS frontend-dev
WORKDIR /app/frontend
COPY frontend/package*.json ./
RUN npm ci
COPY frontend/ ./
EXPOSE 4200
CMD ["npm", "start"]

FROM golang:1.21-alpine AS backend-dev
WORKDIR /app/backend
RUN apk add --no-cache git
COPY backend/go.mod backend/go.sum ./
RUN go mod download
COPY backend/ ./
EXPOSE 8080
CMD ["go", "run", "main.go"]